# Linux服务器安全设置
***
## 用户管理  
* 取消SSH使用root登录的权限，（root用户名必然存在，防止通过SSH暴力破解），通过代理用户管理系统。
### 密码强度
* 最小长度12字符
* 包含大小写、数字、符号
* 使用随机生成密码
* 避免重复使用相同的密码
* 避免常见有序密码，或与用户名相关
* 避免使用与用户公开信息相关字符

### 添加用户（Red Hat and CentOS）
1.  添加用户，设置密码
    ```
    useradd {username}
    passwd {username} 
    ```
2. 添加sudo许可
    * 用户加入wheel组  
    `usermod -aG wheel {username}`
    * 修改sudoers文件  
    ```
    visudo
    {username}     ALL=(ALL)       ALL
    ```
    * 验证提升权限到root  
    `sudo -i`

### 生成SSH密钥对
1. 运行命令生成密钥对  
`ssh-keygen -b 4096 -t rsa`  
  生成私钥文件id_rsa，公钥文件id_rsa.pub
2. 将**公钥**文件复制到服务器  
  `ssh-copy-id -i ~/.ssh/id_rsa.pub {username}@{remotePublicIPAddress}` 
  3. 确认没有其他密钥  
  `cat .ssh/authorized_keys`
  
  ### Linux SSH 防护配置
  #### 修改 sshd_config
  1.  `sudo vim /etc/ssh/sshd_config`
  2. 修改
  ```

      #Port 22  
      #PermitRootLogin yes  
      PasswordAuthentication yes

  ```
      为   
  ```

      Port 2222
      PermitRootLogin no
      PasswordAuthentication no

  ```
      

